(self.webpackChunk=self.webpackChunk||[]).push([[3438],{3438:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var s=n(5166),o={class:"p-8"},i={class:"max-w-3xl mx-auto"},r={key:0,class:"autocomplete-result-list",style:{position:"absolute","z-index":"1",width:"100%",top:"100%"}},a=(0,s.createVNode)("li",{class:"autocomplete-result"}," No results found ",-1);var u={ref:"root"};const l=function(e,t){return e.matches?e.matches(t):e.msMatchesSelector?e.msMatchesSelector(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):null};const c=function(e,t){return e.closest?e.closest(t):function(e,t){for(var n=e;n&&1===n.nodeType;){if(l(n,t))return n;n=n.parentNode}return null}(e,t)};const d=function(e){return Boolean(e&&"function"==typeof e.then)};function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n.search,o=n.autoSelect,i=void 0!==o&&o,r=n.setValue,a=void 0===r?function(){}:r,u=n.setAttribute,l=void 0===u?function(){}:u,f=n.onUpdate,b=void 0===f?function(){}:f,m=n.onSubmit,v=void 0===m?function(){}:m,g=n.onShow,w=void 0===g?function(){}:g,C=n.onHide,x=void 0===C?function(){}:C,y=n.onLoading,B=void 0===y?function(){}:y,k=n.onLoaded,L=void 0===k?function(){}:k;h(this,e),p(this,"value",""),p(this,"searchCounter",0),p(this,"results",[]),p(this,"selectedIndex",-1),p(this,"handleInput",(function(e){var n=e.target.value;t.updateResults(n),t.value=n})),p(this,"handleKeyDown",(function(e){var n=e.key;switch(n){case"Up":case"Down":case"ArrowUp":case"ArrowDown":var s="ArrowUp"===n||"Up"===n?t.selectedIndex-1:t.selectedIndex+1;e.preventDefault(),t.handleArrows(s);break;case"Tab":t.selectResult();break;case"Enter":var o=t.results[t.selectedIndex];t.selectResult(),t.onSubmit(o);break;case"Esc":case"Escape":t.hideResults(),t.setValue();break;default:return}})),p(this,"handleFocus",(function(e){var n=e.target.value;t.updateResults(n),t.value=n})),p(this,"handleBlur",(function(){t.hideResults()})),p(this,"handleResultMouseDown",(function(e){e.preventDefault()})),p(this,"handleResultClick",(function(e){var n=e.target,s=c(n,"[data-result-index]");if(s){t.selectedIndex=parseInt(s.dataset.resultIndex,10);var o=t.results[t.selectedIndex];t.selectResult(),t.onSubmit(o)}})),p(this,"handleArrows",(function(e){var n=t.results.length;t.selectedIndex=(e%n+n)%n,t.onUpdate(t.results,t.selectedIndex)})),p(this,"selectResult",(function(){var e=t.results[t.selectedIndex];e&&t.setValue(e),t.hideResults()})),p(this,"updateResults",(function(e){var n=++t.searchCounter;t.onLoading(),t.search(e).then((function(e){n===t.searchCounter&&(t.results=e,t.onLoaded(),0!==t.results.length?(t.selectedIndex=t.autoSelect?0:-1,t.onUpdate(t.results,t.selectedIndex),t.showResults()):t.hideResults())}))})),p(this,"showResults",(function(){t.setAttribute("aria-expanded",!0),t.onShow()})),p(this,"hideResults",(function(){t.selectedIndex=-1,t.results=[],t.setAttribute("aria-expanded",!1),t.setAttribute("aria-activedescendant",""),t.onUpdate(t.results,t.selectedIndex),t.onHide()})),p(this,"checkSelectedResultVisible",(function(e){var n=e.querySelector('[data-result-index="'.concat(t.selectedIndex,'"]'));if(n){var s=e.getBoundingClientRect(),o=n.getBoundingClientRect();o.top<s.top?e.scrollTop-=s.top-o.top:o.bottom>s.bottom&&(e.scrollTop+=o.bottom-s.bottom)}})),this.search=d(s)?s:function(e){return Promise.resolve(s(e))},this.autoSelect=i,this.setValue=a,this.setAttribute=l,this.onUpdate=b,this.onSubmit=v,this.onShow=w,this.onHide=x,this.onLoading=B,this.onLoaded=L};var b=0;const m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e).concat(++b)};const v=function(e,t){var n=e.getBoundingClientRect(),s=t.getBoundingClientRect();return n.bottom+s.height>window.innerHeight&&window.innerHeight-n.bottom<n.top&&window.pageYOffset+n.top-s.height>0?"above":"below"};const g=function(e,t,n){var s;return function(){var o=this,i=arguments,r=function(){s=null,n||e.apply(o,i)},a=n&&!s;clearTimeout(s),s=setTimeout(r,t),a&&e.apply(o,i)}};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y={name:"Autocomplete",inheritAttrs:!1,emits:["update","submit"],props:{search:{type:Function,required:!0},baseClass:{type:String,default:"autocomplete"},autoSelect:{type:Boolean,default:!1},getResultValue:{type:Function,default:function(e){return e}},defaultValue:{type:String,default:""},debounceTime:{type:Number,default:100}},data:function(){var e=new f({search:this.search,autoSelect:this.autoSelect,setValue:this.setValue,onUpdate:this.handleUpdate,onSubmit:this.handleSubmit,onShow:this.handleShow,onHide:this.handleHide,onLoading:this.handleLoading,onLoaded:this.handleLoaded});return this.debounceTime>0&&(e.handleInput=g(e.handleInput,this.debounceTime)),{core:e,value:this.defaultValue,resultListId:m("".concat(this.baseClass,"-result-list-")),results:[],selectedIndex:-1,expanded:!1,loading:!1,position:"below",resetPosition:!0}},computed:{rootProps:function(){return{class:this.baseClass,style:{position:"relative"},"data-expanded":this.expanded,"data-loading":this.loading,"data-position":this.position}},inputProps:function(){return C({class:"".concat(this.baseClass,"-input"),value:this.value,role:"combobox",autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false","aria-autocomplete":"list","aria-haspopup":"listbox","aria-owns":this.resultListId,"aria-expanded":this.expanded?"true":"false","aria-activedescendant":this.selectedIndex>-1?this.resultProps[this.selectedIndex].id:""},this.$attrs)},inputListeners:function(){return{input:this.handleInput,keydown:this.core.handleKeyDown,focus:this.core.handleFocus,blur:this.core.handleBlur}},resultListProps:function(){var e="below"===this.position?"top":"bottom";return{id:this.resultListId,class:"".concat(this.baseClass,"-result-list"),role:"listbox",style:x({position:"absolute",zIndex:1,width:"100%",visibility:this.expanded?"visible":"hidden",pointerEvents:this.expanded?"auto":"none"},e,"100%")}},resultListListeners:function(){return{mousedown:this.core.handleResultMouseDown,click:this.core.handleResultClick}},resultProps:function(){var e=this;return this.results.map((function(t,n){return C({id:"".concat(e.baseClass,"-result-").concat(n),class:"".concat(e.baseClass,"-result"),"data-result-index":n,role:"option"},e.selectedIndex===n?{"aria-selected":"true"}:{})}))}},mounted:function(){document.body.addEventListener("click",this.handleDocumentClick)},beforeUnmount:function(){document.body.removeEventListener("click",this.handleDocumentClick)},updated:function(){this.$refs.input&&this.$refs.resultList&&(this.resetPosition&&this.results.length>0&&(this.resetPosition=!1,this.position=v(this.$refs.input,this.$refs.resultList)),this.core.checkSelectedResultVisible(this.$refs.resultList))},methods:{setValue:function(e){this.value=e?this.getResultValue(e):""},handleUpdate:function(e,t){this.results=e,this.selectedIndex=t,this.$emit("update",e,t)},handleShow:function(){this.expanded=!0},handleHide:function(){this.expanded=!1,this.resetPosition=!0},handleLoading:function(){this.loading=!0},handleLoaded:function(){this.loading=!1},handleInput:function(e){this.value=e.target.value,this.core.handleInput(e)},handleSubmit:function(e){this.$emit("submit",e)},handleDocumentClick:function(e){this.$refs.root.contains(e.target)||this.core.hideResults()}},render:function(e,t,n,o,i,r){return(0,s.openBlock)(),(0,s.createBlock)("div",u,[(0,s.renderSlot)(e.$slots,"default",{rootProps:r.rootProps,inputProps:r.inputProps,inputListeners:r.inputListeners,resultListProps:r.resultListProps,resultListListeners:r.resultListListeners,results:i.results,resultProps:r.resultProps})],512)}};const B={props:{value:{type:String,default:""}},render:function(e,t,n,o,i,r){return(0,s.openBlock)(),(0,s.createBlock)("input",(0,s.mergeProps)({type:"text",value:n.value},e.$attrs),null,16,["value"])}},k={components:{Autocomplete:y,CustomInput:B},data:function(){return{focused:!1,value:"",results:[]}},computed:{noResults:function(){return this.value&&0===this.results.length}},methods:{search:function(e){return this.value=e,e.length<1?this.results=[]:this.results=L.filter((function(t){return t.toLowerCase().startsWith(e.toLowerCase())})),this.results},handleFocus:function(){this.focused=!0},handleBlur:function(){this.focused=!1}}};var L=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua & Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia & Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Congo Democratic Republic","Costa Rica","Cote D'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji"];k.render=function(e,t,n,u,l,c){var d=(0,s.resolveComponent)("custom-input"),h=(0,s.resolveComponent)("autocomplete");return(0,s.openBlock)(),(0,s.createBlock)("section",o,[(0,s.createVNode)("div",i,[(0,s.createVNode)(h,{search:c.search,placeholder:"Search for a country","aria-label":"Search for a country"},{default:(0,s.withCtx)((function(e){var t=e.rootProps,n=e.inputProps,o=e.inputListeners,i=e.resultListProps,u=e.resultListListeners,h=e.results,p=e.resultProps;return[(0,s.createVNode)("div",t,[(0,s.createVNode)(d,(0,s.mergeProps)(n,(0,s.toHandlers)(o),{class:["autocomplete-input",{"autocomplete-input-no-results":c.noResults},{"autocomplete-input-focused":l.focused}],onFocus:c.handleFocus,onBlur:c.handleBlur}),null,16,["class","onFocus","onBlur"]),c.noResults?((0,s.openBlock)(),(0,s.createBlock)("ul",r,[a])):(0,s.createCommentVNode)("",!0),(0,s.createVNode)("ul",(0,s.mergeProps)(i,(0,s.toHandlers)(u)),[((0,s.openBlock)(!0),(0,s.createBlock)(s.Fragment,null,(0,s.renderList)(h,(function(e,t){return(0,s.openBlock)(),(0,s.createBlock)("li",(0,s.mergeProps)({key:p[t].id},p[t]),(0,s.toDisplayString)(e),17)})),128))],16)],16)]})),_:1},8,["search"])])])};const P=k}}]);